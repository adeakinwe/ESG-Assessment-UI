<h2>ðŸŒ¿ ESG Assessment â€” Loan #{{ loanId }}</h2>

<table class="esg-table">
  <tr>
    <th>Checklist Item</th>
    <th>Weight</th>
    <th>Response</th>
    <th>Score</th>
  </tr>

  <tr *ngFor="let c of checklist">
    <td>{{ c.item }}</td>
    <td>{{ c.weight }}</td>

    <td>
      <!-- Yes / No -->
      <select *ngIf="c.type === 'yesno'" [(ngModel)]="c.response" (change)="updateScore(c)">
        <option [ngValue]="null">Select...</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
      </select>

      <!-- Low / Medium / High -->
      <select *ngIf="c.type === 'levels'" [(ngModel)]="c.response" (change)="updateScore(c)">
        <option [ngValue]="null">Select...</option>
        <option value="low">Low</option>
        <option value="medium">Medium</option>
        <option value="high">High</option>
      </select>
    </td>

    <td>{{ c.score }}</td>
  </tr>
</table>

<hr />

<div class="result-box">
  <h3>Total Score: <strong>{{ totalScore }}</strong></h3>
  <h3>Overall Risk: <span class="rating" [ngClass]="riskRating">{{ riskRating }}</span></h3>
</div>

<button class="btn-approve" *ngIf="riskRating !== 'High Risk'">
  âœ” Approve Loan
</button>

<button class="btn-reject" *ngIf="riskRating === 'High Risk'">
  âœ˜ Reject Loan
</button>