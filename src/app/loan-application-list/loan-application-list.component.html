<p-panel header="ðŸŒ¿ Loan Applications" [toggleable]="true" class="esg-panel">
  <p-table
    #dt
    [value]="loanApplications"
    [paginator]="true"
    [rows]="10"
    [rowsPerPageOptions]="[5, 10, 20]"
    [responsiveLayout]="'scroll'"
    [rowHover]="true"
    selectionMode="single"
    (onRowSelect)="onRowSelected($event)"
    dataKey="id"
    class="esg-table"
  >
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="applicationDate">Application Date <p-sortIcon field="applicationDate"></p-sortIcon></th>
        <th pSortableColumn="customerName">Customer <p-sortIcon field="customerName"></p-sortIcon></th>
        <th pSortableColumn="productName">Product <p-sortIcon field="product"></p-sortIcon></th>
        <th pSortableColumn="amount">Amount <p-sortIcon field="amount"></p-sortIcon></th>
        <th pSortableColumn="interestRate">Interest (%) <p-sortIcon field="interestRate"></p-sortIcon></th>
        <th pSortableColumn="tenorInDays">Tenor (Days) <p-sortIcon field="tenorInDays"></p-sortIcon></th>
        <th pSortableColumn="currencyCode">Currency <p-sortIcon field="currencyCode"></p-sortIcon></th>
        <th pSortableColumn="sectorName">Sector <p-sortIcon field="sectorName"></p-sortIcon></th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-row>
      <tr [pSelectableRow]="row" class="clickable-row" (click)="openAssessment(row)">
        <td>{{ row.applicationDate | date:'dd-MMM-yyyy' }}</td>
        <td>{{ row.customerName }}</td>
        <td>{{ row.productName }}</td>
        <td>{{ row.amount | number:'1.0-0' }}</td>
        <td>{{ row.interestRate }}</td>
        <td>{{ row.tenorInDays }}</td>
        <td>{{ row.currencyCode }}</td>
        <td>{{ row.sectorName }}</td>
      </tr>
    </ng-template>
  </p-table>
</p-panel>